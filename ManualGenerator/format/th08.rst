.. _Th08Formats:

東方永夜抄用テンプレート書式
============================

.. _T08SCR:

スコアランキング
----------------

:書式: ``%T08SCR[w][xx][y][z]``

    :``[w]``: 難易度

        :``[E]``: Easy
        :``[N]``: Normal
        :``[H]``: Hard
        :``[L]``: Lunatic
        :``[X]``: Extra

    :``[xx]``: キャラの名前

        :``[RY]``: 霊夢 & 紫
        :``[MA]``: 魔理沙 & アリス
        :``[SR]``: 咲夜 & レミリア
        :``[YY]``: 妖夢 & 幽々子
        :``[RM]``: 霊夢
        :``[YK]``: 紫
        :``[MR]``: 魔理沙
        :``[AL]``: アリス
        :``[SK]``: 咲夜
        :``[RL]``: レミリア
        :``[YM]``: 妖夢
        :``[YU]``: 幽々子

    :``[y]``: 順位

        :``[1～9]``: 1～9 位
        :``[0]``:    10 位

    :``[z]``: 項目

        :``[1]``: 登録名
        :``[2]``: スコア
        :``[3]``: 到達ステージ
        :``[4]``: 日付
        :``[5]``: 処理落ち率
        :``[6]``: プレイ時間
        :``[7]``: 初期プレイヤー数
        :``[8]``: 得点アイテム数
        :``[9]``: 刻符数
        :``[0]``: ミス回数
        :``[A]``: ボム回数
        :``[B]``: ラストスペル回数
        :``[C]``: ポーズ回数
        :``[D]``: コンティニュー回数
        :``[E]``: 人間率
        :``[F]``: 取得スペルカード一覧
        :``[G]``: 取得スペルカード枚数

:例:
    | ``%T08SCRNSR12`` ... Normal 咲夜 & レミリアの 1 位のスコア
    | ``%T08SCRXRM45`` ... Extra 霊夢の 4 位の処理落ち率

:補足:
    - 日付は月日だけが ``mm/dd`` の形式で出力されます。
      年や時分秒はそもそもスコアファイルに保存されていません。
    - 取得スペルカード一覧について、 東方永夜抄の score.txt にある
      「総取得回数/総遭遇回数」 は出力されません。

:相違点:
    - スコアの 1 の位には、 原作と同様にコンティニュー回数が出力されます。
    - 処理落ち率は小数点以下第 3 位まで（% 記号付きで）出力されます。
      今後、 この桁数を設定可能にするかも知れません。
    - | プレイ時間は時分秒が ``h:mm:ss`` の形式で出力されます。
      | なお、 スコアファイルにはフレーム数単位で保存されているため、
        60fps 固定と見なして換算した結果を出力しています。
    - 人間率は小数点以下第 2 位まで（% 記号付きで）出力されます。
      第 3 位以下はスコアファイルに保存されていません。
    - 本ツールには、 `東方メモリマネージャー
      <http://www.sue445.net/downloads/ThMemoryManager.html>`_ の
      ``GetSpellListTag`` 相当の設定項目はありません。
      今後対応するかも知れません。

.. _T08C:

御札戦歴
--------

:書式: ``%T08C[w][xxx][yy][z]``

    :``[w]``: 戦歴の種類

        :``[S]``: ゲーム本編
        :``[P]``: スペルプラクティス

    :``[xxx]``: スペルカードの番号など

        :``[000]``:      全スペルカードの合計値
        :``[001～222]``: スペルカードの番号

    :``[yy]``: キャラの名前など

        :``[TL]``: 全主人公合計
        :``[RY]``: 霊夢 & 紫
        :``[MA]``: 魔理沙 & アリス
        :``[SR]``: 咲夜 & レミリア
        :``[YY]``: 妖夢 & 幽々子
        :``[RM]``: 霊夢
        :``[YK]``: 紫
        :``[MR]``: 魔理沙
        :``[AL]``: アリス
        :``[SK]``: 咲夜
        :``[RL]``: レミリア
        :``[YM]``: 妖夢
        :``[YU]``: 幽々子

    :``[z]``: 項目

        :``[1]``: MaxBonus
        :``[2]``: 取得回数（勝率の分子）
        :``[3]``: 挑戦回数（勝率の分母）

:例:
    | :``%T08CS003TL1``:
      ... ゲーム本編 全主人公合計の灯符「ファイヤフライフェノメノン」の MaxBonus
    | :``%T08CP008RY2``:
      ... スペルプラクティス 霊夢 & 紫の蠢符「リトルバグストーム」の取得回数

:補足:
    - 存在しない組み合わせ（つまりゲーム本編の No.206～222）は無視されます。

.. _T08CARD:

スペルカード基本情報
--------------------

:書式: ``%T08CARD[xxx][y]``

    :``[xxx]``: スペルカードの番号

        :``[001～222]``: スペルカードの番号

    :``[y]``: 項目

        :``[N]``: スペルカードの名前
        :``[R]``: スペルカードの難易度
                  (Easy, Normal, Hard, Lunatic, Extra, Last Word)

:例:
    | ``%T08CARD023N`` ... 鷹符「イルスタードダイブ」
    | ``%T08CARD023R`` ... Normal

:相違点:
    - :ref:`未挑戦のスペルカード名を出力しない <howtouse>` 設定にしている場合、
      該当するものは名前・難易度ともに ``?????`` のように出力されます。
      （一応ネタバレ防止のため。）

.. _T08CRG:

スペルカード蒐集率
------------------

:書式: ``%T08CRG[v][w][xx][yy][z]``

    :``[v]``: 戦歴の種類

        :``[S]``: ゲーム本編
        :``[P]``: スペルプラクティス

    :``[w]``: 難易度など

        :``[E]``: Easy
        :``[N]``: Normal
        :``[H]``: Hard
        :``[L]``: Lunatic
        :``[X]``: Extra
        :``[W]``: Last Word
        :``[T]``: Total

    :``[xx]``: キャラの名前など

        :``[TL]``: 全主人公合計
        :``[RY]``: 霊夢 & 紫
        :``[MA]``: 魔理沙 & アリス
        :``[SR]``: 咲夜 & レミリア
        :``[YY]``: 妖夢 & 幽々子
        :``[RM]``: 霊夢
        :``[YK]``: 紫
        :``[MR]``: 魔理沙
        :``[AL]``: アリス
        :``[SK]``: 咲夜
        :``[RL]``: レミリア
        :``[YM]``: 妖夢
        :``[YU]``: 幽々子

    :``[yy]``: ステージ

        :``[00]``: 全ステージ合計
        :``[1A]``: Stage 1
        :``[2A]``: Stage 2
        :``[3A]``: Stage 3
        :``[4A]``: Stage 4A
        :``[4B]``: Stage 4B
        :``[5A]``: Stage 5
        :``[6A]``: Stage 6A
        :``[6B]``: Stage 6B

        （Extra, Last Word ではこの指定は無視され、 Total ではそのステージの
        Easy～Lunatic の合計が出力されます。）

    :``[z]``: 項目

        :``[1]``: 取得数（勝率の分子）
        :``[2]``: 挑戦数（勝率の分母）

:例:
    | ``%T08CRGSERY2A1``
      ... ゲーム本編 Easy 霊夢 & 紫の Stage 2 の取得数
    | ``%T08CRGSTYY4A1``
      ... ゲーム本編 妖夢 & 幽々子の Stage 4A の全難易度合計の取得数
    | ``%T08CRGPTTL002``
      ... スペルプラクティス 全難易度・全キャラ・全ステージ合計の挑戦数

:補足:
    - 存在しない組み合わせ（つまりゲーム本編の Last Word）は無視されます。

.. _T08CLEAR:

クリア達成度
------------

:書式: ``%T08CLEAR[x][yy]``

    :``[x]``: 難易度

        :``[E]``: Easy
        :``[N]``: Normal
        :``[H]``: Hard
        :``[L]``: Lunatic
        :``[X]``: Extra

    :``[yy]``: キャラの名前

        :``[RY]``: 霊夢 & 紫
        :``[MA]``: 魔理沙 & アリス
        :``[SR]``: 咲夜 & レミリア
        :``[YY]``: 妖夢 & 幽々子
        :``[RM]``: 霊夢
        :``[YK]``: 紫
        :``[MR]``: 魔理沙
        :``[AL]``: アリス
        :``[SK]``: 咲夜
        :``[RL]``: レミリア
        :``[YM]``: 妖夢
        :``[YU]``: 幽々子

:例:
    | ``%T08CLEARXMA`` ... Extra 魔理沙 & アリスのクリア達成度
    | ``%T08CLEARNSK`` ... Normal 咲夜のクリア達成度

:補足:
    - クリア達成度（ゲームの進行状況）に応じて次の文字列が出力されます:
      ``-------`` （未プレイ）, ``Stage 1``, ``Stage 2``, ``Stage 3``,
      ``Stage 4``, ``Stage 5``, ``Stage 6A``, ``Stage 6B``, ``FinalA Clear``,
      ``All Clear``, ``Not Clear`` （Extra 未クリア）
    - 本ツールではランキングを基にクリア達成度を算出しているため、
      実際はクリア済みであっても、
      ランキング上に存在していなければ未クリア扱いになってしまいます。

:相違点:
    - スコアファイル内に、
      クリア達成度を示すフラグのようなものが保存されているため、
      ``FinalA Clear`` の判定に使用しています。

.. _T08PLAY:

プレイ回数
----------

:書式: ``%T08PLAY[x][yy]``

    :``[x]``: 難易度など

        :``[E]``: Easy
        :``[N]``: Normal
        :``[H]``: Hard
        :``[L]``: Lunatic
        :``[X]``: Extra
        :``[T]``: Total

    :``[yy]``: キャラの名前など

        :``[TL]``: 全主人公合計
        :``[RY]``: 霊夢 & 紫
        :``[MA]``: 魔理沙 & アリス
        :``[SR]``: 咲夜 & レミリア
        :``[YY]``: 妖夢 & 幽々子
        :``[RM]``: 霊夢
        :``[YK]``: 紫
        :``[MR]``: 魔理沙
        :``[AL]``: アリス
        :``[SK]``: 咲夜
        :``[RL]``: レミリア
        :``[YM]``: 妖夢
        :``[YU]``: 幽々子
        :``[CL]``: クリア回数
        :``[CN]``: コンティニュー回数
        :``[PR]``: プラクティスプレイ回数

:例:
    | ``%T08PLAYHYY`` ... Hard 妖夢 & 幽々子のプレイ回数
    | ``%T08PLAYLCN`` ... Lunatic のコンティニュー回数

.. _T08TIMEALL:

総起動時間
----------

:書式:   ``%T08TIMEALL``
:補足:   - 時分秒およびミリ秒が ``h:mm:ss.ddd`` の形式で出力されます。
:相違点: - 秒とミリ秒の間は ``:`` ではなく ``.`` で出力されます。

.. _T08TIMEPLY:

総プレイ時間
------------

:書式:   ``%T08TIMEPLY``
:補足:   - 時分秒およびミリ秒が ``h:mm:ss.ddd`` の形式で出力されます。
:相違点: - 秒とミリ秒の間は ``:`` ではなく ``.`` で出力されます。

.. _T08PRAC:

プラクティススコア
------------------

:書式: ``%T08PRAC[w][xx][yy][z]``

    :``[w]``: 難易度

        :``[E]``: Easy
        :``[N]``: Normal
        :``[H]``: Hard
        :``[L]``: Lunatic

    :``[xx]``: キャラの名前

        :``[RY]``: 霊夢 & 紫
        :``[MA]``: 魔理沙 & アリス
        :``[SR]``: 咲夜 & レミリア
        :``[YY]``: 妖夢 & 幽々子
        :``[RM]``: 霊夢
        :``[YK]``: 紫
        :``[MR]``: 魔理沙
        :``[AL]``: アリス
        :``[SK]``: 咲夜
        :``[RL]``: レミリア
        :``[YM]``: 妖夢
        :``[YU]``: 幽々子

    :``[yy]``: ステージ

        :``[1A]``: Stage 1
        :``[2A]``: Stage 2
        :``[3A]``: Stage 3
        :``[4A]``: Stage 4A
        :``[4B]``: Stage 4B
        :``[5A]``: Stage 5
        :``[6A]``: Stage 6A
        :``[6B]``: Stage 6B

    :``[z]``: 項目

        :``[1]``: スコア
        :``[2]``: プレイ回数

:例:
    | ``%T08PRACEYM1A1``
      ... Easy 妖夢の Stage 1 のプラクティススコア
    | ``%T08PRACNRY4B2``
      ... Normal 霊夢 & 紫の Stage 4B のプラクティスプレイ回数

:相違点:
    - このテンプレート書式は本ツール独自のものです。
